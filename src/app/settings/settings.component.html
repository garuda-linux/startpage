<div class="sm:pt-20 pt-28 mb-2.5 md:flex h-svh">
  <div class="md:w-3/4">
    <div class="px-10 ">
      <h1 class="bold text-maroon text-lg">Configure startpage settings</h1>
      <div class="">
        <div class="mt-10">
          <form>
            <label for="select-search-engine" class="block mb-2 text-md text-text font-medium">Search
              engine</label>
            <select
              name="select-search-engine"
              id="select-search-engine"
              [formControl]="searchEngine"
              class="block w-full md:w-1/2 px-4 py-3 text-base text-maroon rounded-lg bg-surface0 focus:ring-maroon focus:border-maroon">
              <option selected>Choose your search engine</option>
              @for (engine of searchEngineMappings; track engine) {
                <option value="{{ engine.name }}">{{ engine.prettyName }}</option>
              }
            </select>
          </form>
          <form class="mt-10">
            <label for="select-theme" class="block mb-2 text-text text-md font-medium">Theme</label>
            <select
              name="select-theme"
              id="select-theme"
              [formControl]="theme"
              class="block w-full md:w-1/2 px-4 py-3 text-base text-maroon rounded-lg bg-surface0 focus:ring-maroon focus:border-maroon">
              <option selected>Choose your theme</option>
              @for (flavor of flavors; track flavor) {
                <option value="{{ flavor[0] }}">{{ flavor[1].name }}</option>
              }
            </select>
          </form>
        </div>
        @if (searchEngine.value === "custom") {
          <div class="mt-10">
            <label for="input-search-engine" class="block mb-2 text-md text-text">Custom search URL</label>
            <input type="text" id="input-search-engine"
                   [formControl]="searchEngineUrl"
                   class="block w-full md:w-1/2 p-2 text-base text-maroon bg-surface0 focus:ring-maroon focus:border-maroon rounded-lg">
          </div>
          <div class="mt-10">
            <label for="input-search-name" class="block mb-2 text-md text-text">Custom search engine name</label>
            <input type="text" id="input-search-name"
                   [formControl]="searchEngineName"
                   class="block w-full md:w-1/2 p-2 text-base text-maroon bg-surface0 focus:ring-maroon focus:border-maroon rounded-lg">
          </div>
        }
        <div class="mt-10">
          <label for="input-welcome" class="block mb-2 text-md text-text">Custom welcome message</label>
          <input type="text" id="input-welcome"
                 [formControl]="welcomeText"
                 class="block w-full md:w-1/2 p-2 text-base text-maroon bg-surface0 focus:ring-maroon focus:border-maroon rounded-lg">
        </div>
        <button type="submit"
                (click)="saveSettings()"
                class="mt-10 bg-surface1 text-maroon hover:bg-surface0 focus:outline-none focus:ring-4 focus:ring-maroon font-medium rounded-lg text-sm px-4 py-2">
          Save
        </button>
      </div>
    </div>
  </div>

  <div class="md:w-1/3 flex-auto mx-14 md:mx-10">
    <h2 class="font-bold text-lg text-center mt-16 text-text mb-5">Latest news</h2>
    <app-news></app-news>
  </div>
</div>

<app-toast [show]="showToast" [text]="'Settings saved!'"></app-toast>